# 贫血领域对象

贫血领域对象（Anemic Domain Object）是指仅用作数据载体，而没有行为和动作的领域对象。

# 分治

在系统复杂之后，我们都需要用分治来拆解问题。一般有两种方式，技术维度和业务维度。技术维度是类似MVC这样，业务维度则是指按业务领域来划分系统。

* 我们将架构设计活动精简为以下三个层面：

1. 业务架构——根据业务需求设计业务模块及其关系
2. 系统架构——设计系统和子系统的模块
3. 技术架构——决定采用的技术及框架

# 领域

现实世界中，领域包含了问题域和解系统。一般认为软件是对现实世界的部分模拟。在DDD中，解系统可以映射为一个个限界上下文，限界上下文就是软件对于问题域的一个特定的、有限的解决方案。

## 限界上下文

一个由显示边界限定的特定职责。领域模型便存在于这个边界之内。在边界内，每一个模型概念，包括它的属性和操作，都具有特殊的含义。

## 限界上下文之间的映射关系

* 合作关系（Partnership）：两个上下文紧密合作的关系，一荣俱荣，一损俱损。
* (共享内核（Shared Kernel）：两个上下文依赖部分共享的模型。
* 客户方-供应方开发（Customer-Supplier Development）：上下文之间有组织的上下游依赖。
* 遵奉者（Conformist）：下游上下文只能盲目依赖上游上下文。
* 防腐层（Anticorruption Layer）：一个上下文通过一些适配和转换与另一个上下文交互。
* 开放主机服务（Open Host Service）：定义一种协议来让其他上下文来对本上下文进行访问。
* 发布语言（Published Language）：通常与OHS一起使用，用于定义开放主机的协议。
* 大泥球（Big Ball of Mud）：混杂在一起的上下文关系，边界不清晰。
* 另谋他路（SeparateWay）：两个完全没有任何联系的上下文。

## 一个抽奖的例子

* {com.公司名.组织架构.业务.上下文.*}

```java
import com.company.team.bussiness.lottery.*;//抽奖上下文
import com.company.team.bussiness.riskcontrol.*;//风控上下文
import com.company.team.bussiness.counter.*;//计数上下文
import com.company.team.bussiness.condition.*;//活动准入上下文
import com.company.team.bussiness.stock.*;//库存上下文
```

* 对于模块内的组织结构，一般情况下我们是按照领域对象、领域服务、领域资源库、防腐层等组织方式定义的。

```java
import com.company.team.bussiness.lottery.domain.valobj.*;//领域对象-值对象
import com.company.team.bussiness.lottery.domain.entity.*;//领域对象-实体
import com.company.team.bussiness.lottery.domain.aggregate.*;//领域对象-聚合根
import com.company.team.bussiness.lottery.service.*;//领域服务
import com.company.team.bussiness.lottery.repo.*;//领域资源库
import com.company.team.bussiness.lottery.facade.*;//领域防腐层
```